<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="ams.user.mapper.userMapper">
   <insert id="signup">
    INSERT INTO USERS(USER_ID, USER_PW, USER_NAME, USER_EMAIL)
       					VALUES(#{userId}, #{userPw}, #{userName}, #{userEmail})
   </insert>
   <insert id="getAuthority">
   	INSERT INTO AUTHORITIES(USER_ID)
   							VALUES(#{userId})
   </insert>
   <select id="idChk" resultType="int">
   	SELECT COUNT(*) FROM USERS WHERE USER_ID = #{userId}
   </select>
   
   <select id="nameChk" resultType="int">
   	SELECT COUNT(*) FROM USERS WHERE USER_NAME = #{userName}
   </select>
   
   <select id="emailChk" resultType="int">
   	SELECT COUNT(*) FROM USERS WHERE USER_EMAIL = #{userEmail}
   </select>
   
   <select id="pwChk" resultType="int">
   	SELECT COUNT(*) FROM USERS WHERE USER_PW = #{userPw} AND USER_ID = #{userId}
   </select>
   
   <delete id="signout" parameterType="ams.user.domain.UserVO">
   	DELETE FROM USERS WHERE USER_ID = #{userId};
   </delete>
   
   <select id="getUserInfo" resultType="ams.user.domain.UserVO">
   	SELECT * FROM USERS WHERE USER_ID = #{userId}
   </select>
   
   <select id="findUser" resultType="String">
      SELECT USER_NAME FROM USERS WHERE USER_ID=#{userId}
   </select>
   
   <update id="modifyUser" parameterType="ams.user.domain.UserVO">
      UPDATE USERS SET USER_NAME = #{userName}, USER_EMAIL=#{userEmail} WHERE USER_ID=#{userId}
   </update>
</mapper>
  